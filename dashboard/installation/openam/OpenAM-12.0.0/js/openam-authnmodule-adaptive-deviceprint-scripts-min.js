define("org/forgerock/libwrappers/JQueryWrapper",["!org/codehaus/mojo/jquery-amd/1.7.1-alpha-1/jquery-amd-1.7.1-alpha-1"],function(a){return $}),define("org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/AdaptiveDevicePrintView",["org/forgerock/libwrappers/JQueryWrapper"],function(a){var b={};return b.getLoginForm=function(){return a("[name=Login]")},b.getDevicePrintInfoInput=function(){return b.getLoginForm().find("[name=IDToken0]").length||b.getLoginForm().append("<input name='IDToken0' type='hidden' />"),b.getLoginForm().find("[name=IDToken0]")},b}),define("org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/DevicePrintInfoAggregator",["org/forgerock/libwrappers/JQueryWrapper"],function(a){var b={};return b.infoCollectorClasses=["org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/ScreenInfoCollector","org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/TimezoneCollector","org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/BrowserPluginsCollector","org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/GeolocationCollector","org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/BrowserFontsCollector"],b.collectInfo=function(){var c,d,e={},f;for(c=0;c<b.infoCollectorClasses.length;c++)f=require(b.infoCollectorClasses[c]).gatherInformation(),f&&a.extend(e,f);return e},b}),define("org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/Constants",[],function(){var a={};return a.EVENT_RECOLLECT_DATA="adaptivedeviceprint.recollect_data",a.adaptiveDevicePrintCookieName="AdaptiveDevicePrintCookie",a}),define("org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/EventManager",["org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/Constants","org/forgerock/libwrappers/JQueryWrapper"],function(a,b){var c={},d=[];return c.sendEvent=function(a,c){console.debug("sending event eventId="+a),b(document).trigger(a,c)},c.registerListener=function(a,c){var e=function(a,b){console.debug("Handiling event"),c(b)};console.debug("registering event listener eventId="+a),d[c]=e,b(document).on(a,e)},c.unregisterListener=function(a,c){var e;console.debug("unregistering event listener eventId="+a),e=d[c],b(document).off(e)},c}),define("org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/AdaptiveDevicePrintCtrl",["org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/AdaptiveDevicePrintView","org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/DevicePrintInfoAggregator","org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/EventManager","org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/Constants"],function(a,b,c,d){var e={};return e.view=a,e.init=function(){e.fillInputWithDevicePrintInfo(),c.registerListener(d.EVENT_RECOLLECT_DATA,e.fillInputWithDevicePrintInfo)},e.fillInputWithDevicePrintInfo=function(){e.view.getLoginForm().size()===0&&setTimeout(e.fillInputWithDevicePrintInfo,100);var a=b.collectInfo();console.log("collected info: "+a),e.view.getDevicePrintInfoInput().val(JSON.stringify(a))},e}),define("org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/AbstractDevicePrintInfoCollector",[],function(){var a=function(){};return a.prototype.gatherInformation=function(){},a}),define("org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/BrowserPluginsCollector",["org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/AbstractDevicePrintInfoCollector"],function(a){var b=new a;return b.gatherInformation=function(){if(navigator&&navigator.plugins){var a={},b=navigator.plugins,c;a.installedPlugins="";for(c=0;c<b.length;c++)a.installedPlugins=a.installedPlugins+b[c].filename+";";return a.installedPlugins=a.installedPlugins.substr(0,a.installedPlugins.length-1),a}return console.error("BrowserPluginsCollector: navigator.plugins not defined"),null},b}),define("org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/ScreenInfoCollector",["org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/AbstractDevicePrintInfoCollector"],function(a){var b=new a,c;return b.gatherInformation=function(){var a={};return screen?(screen.width&&(a.screenWidth=screen.width),screen.height&&(a.screenHeight=screen.height),screen.pixelDepth&&(a.screenColourDepth=screen.pixelDepth),a):(console.error("ScreenInfoCollector: screen not defined"),null)},b}),define("org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/TimezoneCollector",["org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/AbstractDevicePrintInfoCollector"],function(a){var b=new a;return b.gatherInformation=function(){var a={},b=(new Date).getTimezoneOffset();return b?(a.timezone=b,a):(console.error("TimezoneCollector: timezone not defined"),null)},b}),define("org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/GeolocationCollector",["org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/AbstractDevicePrintInfoCollector","org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/EventManager","org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/Constants"],function(a,b,c){var d=new a,e;return d.gatherInformation=function(){if(d.position){var a={},b;return a.longitude=d.position.coords.longitude,a.latitude=d.position.coords.latitude,a}return console.log("GeolocationCollector: geolocation not readed"),null},d.getPosition=function(){if(navigator&&navigator.geolocation)navigator.geolocation.getCurrentPosition(function(a){d.position=a,console.log("GeolocationCollector: geolocation readed"),b.sendEvent(c.EVENT_RECOLLECT_DATA)});else return console.error("GeolocationCollector: navigator.geolocation not defined"),null},d.getPosition(),d}),define("org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/lib/fontdetect",[],function(){var a={},b,c,d,e,f,g={},h={},i;b=["monospace","sans-serif","serif"],c="mmmmmmmmmmlli",d="72px",e=document.getElementsByTagName("body")[0],f=document.createElement("span"),f.style.fontSize=d,f.innerHTML=c;for(i in b)f.style.fontFamily=b[i],e.appendChild(f),g[b[i]]=f.offsetWidth,h[b[i]]=f.offsetHeight,e.removeChild(f);return a.detect=function(a){var c=!1,d,i;for(d in b)f.style.fontFamily=a+","+b[d],e.appendChild(f),i=f.offsetWidth!==g[b[d]]||f.offsetHeight!==h[b[d]],e.removeChild(f),c=c||i;return c},a}),define("org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/BrowserFontsCollector",["org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/AbstractDevicePrintInfoCollector","org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/lib/fontdetect"],function(a,b){var c=new a,d=["cursive","monospace","serif","sans-serif","fantasy","default","Arial","Arial Black","Arial Narrow","Arial Rounded MT Bold","Bookman Old Style","Bradley Hand ITC","Century","Century Gothic","Comic Sans MS","Courier","Courier New","Georgia","Gentium","Impact","King","Lucida Console","Lalit","Modena","Monotype Corsiva","Papyrus","Tahoma","TeX","Times","Times New Roman","Trebuchet MS","Verdana","Verona"];return c.gatherInformation=function(){console.log(b);var a={},c;a.installedFonts="";for(c=0;c<d.length;c++)b.detect(d[c])&&(a.installedFonts=a.installedFonts+d[c]+";");return a},c}),define("org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/main",["./BrowserPluginsCollector","./ScreenInfoCollector","./TimezoneCollector","./GeolocationCollector","./BrowserFontsCollector"]),require(["org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/AdaptiveDevicePrintCtrl","org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/infocollectors/main"],function(a){a.init()}),define("main",function(){})