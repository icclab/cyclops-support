define("org/forgerock/commons/ui/common/components/Breadcrumbs",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({size:0,element:"#nav-content",init:function(){e(window).on("hashchange",t.bind(this.buildByUrl,this)),this.baseTitle=document.title,this.buildByUrl()},buildByUrl:function(){var e,n,r,i,s;e=window.location.href.match(/#([a-zA-Z\/_.@]+)/);if(e===null)document.title=this.baseTitle;else{e=e[1],n=t.compact(e.split("/")),s=this.getHumanizedUrls(n),r="#",this.clear();for(i=0;i<n.length-1;i++)r+=n[i]+"/",this.push(s[i],r);this.set(s[s.length-1]),document.title=this.baseTitle+" - "+s.join(" - ")}},getHumanizedUrls:function(e){var t=[],n,r=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,4}$/;for(n=0;n<e.length;n++)t[n]=e[n].split("_").join(" "),r.test(t[n])||(t[n]=t[n].capitalize());return t},clear:function(){while(this.size>0)this.pop()},set:function(t){e(this.element).find("span:last").html(t)},push:function(t,n){e(this.element).find("a:last").after(' <a href="'+n+'" class="active">'+t+"</a>"),e(this.element).find("a:last").before('<img src="images/navi-next.png" width="3" height="5" alt="" align="absmiddle" class="navi-next" /><span></span>'),this.size++},pop:function(){e("#nav-content").find("a").length>1&&(e(this.element).find("a:last").remove(),e(this.element).find("img:last").remove(),e(this.element).find("span:last").remove()),this.size--}});return new r})